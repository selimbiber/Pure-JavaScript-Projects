(()=>{"use strict";function e(){document.getElementById("city-searching-form").classList.remove("hidden"),document.querySelector(".searching-result-section").remove()}!function(){const e=document.getElementById("page-container");e.appendChild(function(){const e=document.createElement("header");e.className="header-section";const t=document.createElement("figure"),n=document.createElement("img");n.src="../dist/images/weather-favicon.png",t.appendChild(n),e.appendChild(t);const c=document.createElement("h1");return c.className="top-heading",c.textContent="Weather Application",e.appendChild(c),e}()),e.appendChild(function(){const e=document.createElement("main");e.className="main-section";const t=document.createElement("form");t.id="city-searching-form",t.className="city-searching-form";const n=document.createElement("fieldset"),c=document.createElement("legend");c.textContent="Enter City Name",n.appendChild(c);const a=document.createElement("input");a.type="text",a.id="text-input",a.className="text-input",n.appendChild(a);const o=document.createElement("label");o.htmlFor="text-input",o.className="error-text",n.appendChild(o);const i=document.createElement("input");return i.type="submit",i.value="SEARCH",i.id="submit-input",i.className="submit-input",n.appendChild(i),t.appendChild(n),e.appendChild(t),e.appendChild(t),e}()),e.appendChild(function(){const e=document.createElement("footer");e.className="footer-section";const t=document.createElement("a");t.href="https://www.theodinproject.com/lessons/node-path-javascript-weather-app/",t.ariaLabel="Visit the website of this challenge.",t.target="_blank",t.textContent="The Odin Project",e.appendChild(t);const n=document.createElement("a");n.href="https://htmlpreview.github.io/?https://github.com/selimbiber/Pure-JavaScript-Projects/blob/main/WeatherApplication/",n.ariaLabel="Visit code source repo of this project.",n.target="_blank";const c=document.createElement("img");c.src="../dist/images/github-logo.svg",c.alt="",c.ariaHidden="true",n.appendChild(c),e.appendChild(n);const a=document.createElement("a");return a.href="https://www.github.com/selimbiber/",a.ariaLabel="Visit my GitHub profile.",a.target="_blank",a.textContent="Selim Biber",e.appendChild(a),e}())}(),async function(){document.getElementById("city-searching-form").addEventListener("submit",(async t=>{t.preventDefault(),document.querySelector(".searching-result-section")&&(document.querySelector(".searching-result-section").innerHTML="");const n=document.getElementById("text-input").value,c=await async function(e){try{const t=await fetch(`http://api.weatherapi.com/v1/forecast.json?key=5a9afe1d8dba4ccabe5172309230111&q=${e}&days=1&aqi=no&alerts=no`);if(t.ok)return document.querySelector(".error-text").classList.remove("show"),t.json();throw new Error("No city with this name was found.")}catch(e){document.querySelector(".error-text").textContent=e,document.querySelector(".error-text").classList.add("show")}}(n),a=function(e){const t=new Date(e),n=t.getMonth()+1,c=t.getDate(),a=n<10?`0${n}`:n,o=c<10?`0${c}`:c;return`${t.getFullYear()}-${a}-${o}`}(c.location.localtime),o=(i=c.location.localtime,`${new Date(i).getHours()}:00`);var i;!function(t,n,c,a,o,i,r){const s=document.createElement("section");s.className="searching-result-section";const d=document.createElement("header"),l=document.createElement("h2");l.textContent=`${t} (${n})`,d.appendChild(l),s.appendChild(d);const m=document.createElement("ul");m.className="info-card";const p=document.createElement("li");p.innerHTML=`\n    <p>Date:</p>\n    <p>${c}</p>`,m.appendChild(p);const u=document.createElement("li");u.innerHTML=`\n  <p>Localtime:</p>\n  <p>${a}</p>`,m.appendChild(u);const h=document.createElement("li");h.innerHTML=`\n  <p>Temperature:</p>\n  <p>${o}Â°C</p>`,m.appendChild(h);const g=document.createElement("li");g.innerHTML=`\n  <p>Condition:</p>\n  <p class="current-condition">${i} <img class=weather-icon src=${r} alt=""></p>`,m.appendChild(g),s.appendChild(m);const C=document.createElement("button");C.textContent="Search Another City",C.addEventListener("click",e),s.appendChild(C),document.querySelector(".main-section").appendChild(s),document.getElementById("city-searching-form").classList.add("hidden")}(c.location.name,c.location.country,a,o,c.current.temp_c,c.current.condition.text,c.current.condition.icon),t.target.reset()}))}()})();